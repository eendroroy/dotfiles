#!/usr/bin/env bash

MOONS_COLOR="🌑🌒🌓🌔🌕🌖🌗🌘"
MOONS_MONO=""
MOONS_MONO_INVERSE=" "

function __loop_over() {
  __data=${1}
  for ((l=1; l<=1000; l++)); do
    for (( i=0; i<${#__data}; i++ )); do
      char="${__data:i:1}"
      printf "\rMoon..... %s" "${char}"
      sleep .1
    done
  done
}

function __help() {
  echo
  echo -e "\e[1;36mUsage:\e[0m moon [OPTIONS]"
  echo
  echo -e "\e[1;33mOptions:\e[0m"
  echo -e "  \e[1;32m-h\e[0m, \e[1;32m--help\e[0m               Show this help message"
  echo -e "  \e[1;32m-mc\e[0m, \e[1;32m--moon-color\e[0m        Show color moons"
  echo -e "  \e[1;32m-mm\e[0m, \e[1;32m--moon-mono\e[0m         Show mono moons"
  echo -e "  \e[1;32m-mmi\e[0m, \e[1;32m--moon-mono-inverse\e[0m Show inverse mono moons"
  echo
  echo -e "\e[1;33mExamples:\e[0m"
  echo -e "  moon --moon-color"
  echo -e "  moon --moon-mono"
  echo -e "  moon --moon-mono-inverse"
  echo
}

while [[ $# -gt 0 ]]; do
  case "$1" in
    -h|--help)
      __help
      exit ;;
    -mc|--moon-color)
      __loop_over "${MOONS_COLOR}"
      exit ;;
    -mm|--moon-mono)
      __loop_over "${MOONS_MONO}"
      exit ;;
    -mmi|--moon-mono-inverse)
      __loop_over "${MOONS_MONO_INVERSE}"
      exit ;;
    *)
      __help
      exit 1 ;;
  esac
done

__help
